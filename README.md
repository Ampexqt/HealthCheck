# health_check
  
HealthCheck is a Flutter app for quickly logging basic health vitals such as heart rate, blood pressure, and symptoms. Data is stored locally using Hive for offline-first usage, with optional cloud sync through Firebase (Cloud Firestore).

## Features

- **Quick logging** of basic vitals (heart rate, BP, symptoms, notes).
- **History screen** to review previous entries.
- **Settings screen** for app preferences.
- **Offline-first storage** via Hive / Hive Flutter.
- **Optional Firebase integration** using `firebase_core` and `cloud_firestore`.

## Tech Stack

- **Framework:** Flutter
- **Language:** Dart (SDK ^3.9.2)
- **State management:** `provider`
- **Local storage:** `hive`, `hive_flutter`, `shared_preferences`
- **Networking / connectivity:** `connectivity_plus`
- **Date & formatting:** `intl`
- **Backend (optional):** Firebase (Cloud Firestore) via `firebase_core` and `cloud_firestore`

## Project Structure (high level)

- `lib/main.dart` – App entry point, initializes Hive and Firebase, sets up theming and navigation.
- `lib/models/` – Data models (for example, `health_entry.dart`).
- `lib/providers/` – `HealthProvider` and related state management.
- `lib/screens/` – `HomeScreen`, `HistoryScreen`, `SettingsScreen`, and splash/main navigation.
- `lib/utils/` – App colors, icons, and other utilities.
- `firebase.json` – Configuration generated by `flutterfire configure`.
- `lib/firebase_options.dart` – Platform-specific Firebase configuration.

---

## Prerequisites

Make sure you have the following installed:

- Flutter SDK (matching the Dart SDK constraint in `pubspec.yaml`, currently `sdk: ^3.9.2`).
- Dart SDK (bundled with Flutter).
- Android Studio or Xcode / appropriate tooling for your target platforms.
- Node.js (for Firebase CLI).

If you do not need Firebase, you can still run the app locally; it will fall back to local storage only if Firebase fails to initialize.

---

## Getting Started (Local Development)

1. **Clone the repository**
   ```bash
   git clone <your-repo-url>
   cd health_check
   ```

2. **Install dependencies**
   ```bash
   flutter pub get
   ```

3. **Run the app**
   - For Android:
     ```bash
     flutter run -d android
     ```
   - For iOS (on macOS):
     ```bash
     flutter run -d ios
     ```
   - For web:
     ```bash
     flutter run -d chrome
     ```

The app will show a splash screen, then navigate to the main screen with bottom navigation (Home, History, Settings).

---

## Firebase & FlutterFire Setup (CLI)

This project is already wired to use Firebase via `firebase_core`, `cloud_firestore`, `firebase_options.dart`, and `firebase.json`. If you want to reconfigure Firebase or connect it to a different Firebase project, follow the steps below.

### 1. Install Firebase CLI

1. Install Firebase CLI globally using npm:
   ```bash
   npm install -g firebase-tools
   ```

2. Verify installation:
   ```bash
   firebase --version
   ```

3. Log in to your Firebase account:
   ```bash
   firebase login
   ```

### 2. Install FlutterFire CLI

The FlutterFire CLI (`flutterfire`) is used to generate `firebase_options.dart` and update `firebase.json`.

```bash
dart pub global activate flutterfire_cli
```

Make sure that `.pub-cache/bin` is on your system `PATH`. On most systems, this is something like:

- macOS / Linux: `export PATH="$PATH":"$HOME/.pub-cache/bin"`
- Windows (PowerShell): `setx PATH "$Env:PATH;C:\Users\<YourUser>\AppData\Local\Pub\Cache\bin"`

Then verify it:

```bash
flutterfire --version
```

### 3. Create or Select a Firebase Project

You can either create a new project or reuse the existing one indicated in `firebase.json` (`projectId: "health-check-19465"`).

- To create a new project via CLI:
  ```bash
  firebase projects:create <your-project-id>
  ```

Or create it in the [Firebase Console](https://console.firebase.google.com/) and note the project ID.

### 4. Configure FlutterFire for this app

From the root of the project (`health_check`):

```bash
flutterfire configure \
  --project=<your-project-id> \
  --platforms=android,ios,macos,web,windows
```

This will:

- Create or update `firebase_options.dart` in `lib/`.
- Update `firebase.json` with the right `projectId`, `appId`, and platform configurations.
- For Android, place `google-services.json` into `android/app/` (path is also reflected in `firebase.json`).

> **Note:** The app currently initializes Firebase in `main.dart` using `DefaultFirebaseOptions.currentPlatform`. Make sure the generated `firebase_options.dart` is imported there (it already is) and kept in sync with your Firebase project.

### 5. Build & Run with Firebase

After running `flutterfire configure` and ensuring the Android/iOS configuration files exist:

```bash
flutter clean
flutter pub get
flutter run
```

If Firebase initialization fails for any reason, the app prints an error message but continues running using only local storage (see the `try/catch` around `Firebase.initializeApp` in `main.dart`).

---

## Common Firebase CLI Commands

- **Login / re-login**
  ```bash
  firebase login
  ```

- **List projects**
  ```bash
  firebase projects:list
  ```

- **Set active project**
  ```bash
  firebase use <project-id>
  ```

- **Open project in console**
  ```bash
  firebase open --console
  ```

---

## Troubleshooting

- **`firebase` or `flutterfire` not found**
  - Ensure Node.js is installed and `firebase-tools` is on your PATH.
  - Ensure `flutterfire_cli` is activated and its bin folder is on PATH.

- **Android build fails due to missing `google-services.json`**
  - Re-run `flutterfire configure` for the Android platform.
  - Confirm that `android/app/google-services.json` exists.

- **Firebase initialization error in logs**
  - Check that `firebase_options.dart` matches your Firebase project.
  - Verify that the Firebase project exists and that your app IDs are correct.

If you run into issues specific to your environment (OS, device, emulator), please include the platform, Flutter version, and full error log when asking for help.

